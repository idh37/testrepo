#include "StdAfx.h"
#include "SutdaGameSound.h"
#include "SoundRes.h"
#include "SutdaGameSoundDefine.h"


CSutdaGameSound::CSutdaGameSound(void)
{
	m_nVoiceType = 1;
}

CSutdaGameSound::~CSutdaGameSound(void)
{
}

CSutdaGameSound& CSutdaGameSound::GetInstance()
{
	static CSutdaGameSound inst;
	return inst;
}

CSutdaGameSound& SutdaGameSound()
{
	return CSutdaGameSound::GetInstance();
}

void CSutdaGameSound::SetMyVoiceType(BOOL bMySex, int nSndFxKind)
{
	
	m_nVoiceType = GetVoiceType(bMySex, nSndFxKind);
}

int CSutdaGameSound::GetVoiceType(BOOL bMySex, int nSndFxKind)
{

	int nVoiceType = 1;
	if (bMySex)
	{
		nVoiceType = (nSndFxKind==0)?1:2;
	}
	else
	{
		nVoiceType = (nSndFxKind==1)?3:4;
	}

	return nVoiceType;
}

//练焊俊 包访等 荤款靛甫 辰促. 
void CSutdaGameSound::WinJokboVoice(int nJokboPoint, BOOL bSex, int nSndFxKind)
{
	int selsnum = 0;

// 	int point = GetPairPoint(Play[r_pnum].MyCard[0].CardNo, Play[r_pnum].MyCard[1].CardNo);
// 	int sndkind = Play[r_pnum].m_SelSound;
// 
// 	//格家府 烹老
// 	if( g_pMainDlg->CFG.bSingleVoice ) sndkind = g_MyInfo.m_SelSound;
	int nVoiceType = GetVoiceType(bSex, nSndFxKind);

	switch( nJokboPoint )
	{
	case 29:	//38
		{
			selsnum = rand()%3;
			switch( nVoiceType )
			{
			case 1:
				{
					if( selsnum == 0)			NMBASE::SOUND::g_Sound.PlayOggStream(SNDM0_20 , FALSE);
					else if( selsnum == 1 )		NMBASE::SOUND::g_Sound.PlayOggStream(SNDM0_21 , FALSE);
					else						NMBASE::SOUND::g_Sound.PlayOggStream(SNDM0_22, FALSE );
				}break;
			case 2:
				{
					if( selsnum == 0)			NMBASE::SOUND::g_Sound.PlayOggStream(SNDM1_20, FALSE);
					else if( selsnum == 1)		NMBASE::SOUND::g_Sound.PlayOggStream(SNDM1_21 , FALSE);
					else						NMBASE::SOUND::g_Sound.PlayOggStream(SNDM1_22, FALSE );
				}break;
			case 3:
				{
					if( selsnum == 0)			NMBASE::SOUND::g_Sound.PlayOggStream(SNDF0_20 , FALSE);
					else if( selsnum ==1 )		NMBASE::SOUND::g_Sound.PlayOggStream(SNDF0_21 , FALSE);
					else						NMBASE::SOUND::g_Sound.PlayOggStream(SNDF0_22 , FALSE);
				}break;
			case 4:
				{
					if( selsnum == 0)			NMBASE::SOUND::g_Sound.PlayOggStream(SNDF1_20 , FALSE);
					else if( selsnum == 1)		NMBASE::SOUND::g_Sound.PlayOggStream(SNDF1_21 , FALSE);
					else						NMBASE::SOUND::g_Sound.PlayOggStream(SNDF1_22 , FALSE);
				}break;
			}
		}break;

	case 28:			//13堡动
		//case 2:			//18堡动
		{
			selsnum = rand()%2;
			switch( nVoiceType )
			{
			case 1:
				{
					if( selsnum == 0)	NMBASE::SOUND::g_Sound.PlayOggStream(SNDM0_23 , FALSE);
					else				NMBASE::SOUND::g_Sound.PlayOggStream(SNDM0_24 , FALSE);
				}break;
			case 2:
				{
					if( selsnum == 0)	NMBASE::SOUND::g_Sound.PlayOggStream(SNDM1_23 , FALSE);
					else				NMBASE::SOUND::g_Sound.PlayOggStream(SNDM1_24 , FALSE);
				}break;
			case 3:
				{
					if( selsnum == 0)	NMBASE::SOUND::g_Sound.PlayOggStream(SNDF0_23 , FALSE);
					else				NMBASE::SOUND::g_Sound.PlayOggStream(SNDF0_24 , FALSE);
				}break;
			case 4:
				{
					if( selsnum == 0)	NMBASE::SOUND::g_Sound.PlayOggStream(SNDF1_23 , FALSE);
					else				NMBASE::SOUND::g_Sound.PlayOggStream(SNDF1_24 , FALSE);
				}break;
			}
		}break;	
	case 27:	//10动
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_25 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_25 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_25 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_25 , FALSE); break;
			}
		}break;	
	case 26:	//9动
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_26 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_26 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_26 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_26 , FALSE); break;
			}
		}break;	
	case 25:		//8动
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_27 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_27 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_27 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_27 , FALSE); break;
			}
		}break;
	case 24:		//7动
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_28 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_28 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_28 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_28 , FALSE); break;
			}
		}break;
	case 23:	//6动
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_29 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_29, FALSE ); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_29 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_29 , FALSE); break;
			}
		}break;
	case 22:		//5动
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_30, FALSE ); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_30 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_30 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_30 , FALSE); break;
			}
		}break;
	case 21:		//4动
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_31 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_31 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_31 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_31 , FALSE); break;
			}
		}break;
	case 20:			//3动
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_32 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_32, FALSE ); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_32 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_32, FALSE ); break;
			}
		}break;
	case 19:		//2动
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_33 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_33, FALSE ); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_33, FALSE ); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_33 , FALSE); break;
			}
		}break;
	case 18:		//1动
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_34 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_34 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_34 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_34 , FALSE); break;
			}
		}break;
	case 30:		//动棱捞
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_35 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_35 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_35 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_35 , FALSE); break;
			}
		}break;
	case 31:		//鞠青绢荤
		{
			selsnum = rand()%2;
			switch( nVoiceType )
			{
			case 1:
				{
					if( selsnum == 0)	NMBASE::SOUND::g_Sound.PlayOggStream(SNDM0_36 , FALSE);
					else				NMBASE::SOUND::g_Sound.PlayOggStream(SNDM0_37 , FALSE);
				}break;
			case 2:
				{
					if( selsnum == 0)	NMBASE::SOUND::g_Sound.PlayOggStream(SNDM1_36 , FALSE);
					else				NMBASE::SOUND::g_Sound.PlayOggStream(SNDM1_37, FALSE );
				}break;
			case 3:
				{
					if( selsnum == 0)	NMBASE::SOUND::g_Sound.PlayOggStream(SNDF0_36, FALSE );
					else				NMBASE::SOUND::g_Sound.PlayOggStream(SNDF0_37 , FALSE);
				}break;
			case 4:
				{
					if( selsnum == 0)	NMBASE::SOUND::g_Sound.PlayOggStream(SNDF1_36 , FALSE);
					else				NMBASE::SOUND::g_Sound.PlayOggStream(SNDF1_37 , FALSE);
				}break;
			}
		}break;	
	}

}

//脸阑版快 练焊澜己 
void CSutdaGameSound::LoseJokboVoice(int nJokboPoint, BOOL bSex, int nSndFxKind)
{
	int selsnum = 0;

// 	int point = GetPairPoint(Play[r_pnum].MyCard[0].CardNo, Play[r_pnum].MyCard[1].CardNo);
// 	int sndkind = Play[r_pnum].m_SelSound;
// 
// 	//格家府 烹老
// 	if( g_pMainDlg->CFG.bSingleVoice ) sndkind = g_MyInfo.m_SelSound;

	int nVoiceType = GetVoiceType(bSex, nSndFxKind);
	switch( nJokboPoint )
	{
	case 28:		//堡动
		//case 2:	
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_38 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_38 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_38 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_38 , FALSE); break;
			}
		}break;	//13,18
	case 27:	 //10
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_39 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_39 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_39 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_39 , FALSE); break;
			}
		}break;	
	case 26:	 //9
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_40 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_40 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_40 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_40, FALSE ); break;
			}
		}break;	
	case 25:	 //8
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_41, FALSE ); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_41 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_41 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_41 , FALSE); break;
			}
		}break;	
	case 24:	 	//7
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_42, FALSE ); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_42 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_42 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_42 , FALSE); break;
			}
		}break;
	case 23:	 	//6
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_43 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_43 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_43 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_43 , FALSE); break;
			}
		}break;
	case 22:	 	//5
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_44 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_44 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_44 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_44 , FALSE); break;
			}
		}break;
	case 21:	 	//4
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_45 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_45 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_45 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_45 , FALSE); break;
			}
		}break;
	case 20://3
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_46 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_46, FALSE ); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_46 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_46 , FALSE); break;
			}
		}break;	
	case 19:	 	//2
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_47 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_47 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_47 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_47, FALSE ); break;
			}
		}break;
	case 18:	//1
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_48, FALSE ); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_48 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_48 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_48 , FALSE); break;
			}
		}break;
	}
}

void CSutdaGameSound::NormalJokboVoice( int nJokboPoint, BOOL bSex, int nSndFxKind)
{
	int selsnum = 0;

// 	int point = GetPairPoint(Play[r_pnum].MyCard[0].CardNo, Play[r_pnum].MyCard[1].CardNo);
// 	int sndkind = Play[r_pnum].m_SelSound;

// 	格家府 烹老
// 		if( g_pMainDlg->CFG.bSingleVoice ) sndkind = g_MyInfo.m_SelSound;

	int nVoiceType = GetVoiceType(bSex, nSndFxKind);

	switch( nJokboPoint )
	{
	case 17:	//舅府
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_49 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_49 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_49 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_49 , FALSE); break;
			}
		}break;

	case 16:	//刀荤
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_50 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_50 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_50 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_50 , FALSE); break;
			}
		}break;

	case 15:	//备绘
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_51, FALSE ); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_51 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_51 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_51 , FALSE); break;
			}
		}break;

	case 14:	//厘绘
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_52 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_52 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_52 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_52 , FALSE); break;
			}
		}break;

	case 13:	//厘荤
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_53 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_53, FALSE ); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_53 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_53 , FALSE); break;
			}
		}break;

	case 12:	// 技氟
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_54, FALSE ); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_54 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_54, FALSE ); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_54 , FALSE); break;
			}
		}break;

	case 9:	//癌坷
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_55, FALSE ); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_55 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_55, FALSE ); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_55 , FALSE); break;
			}
		}break;

	case 8:	//咯袋昌  
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_57 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_57 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_57 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_57 , FALSE); break;
			}
		}break;

	case 7:	//老蚌昌
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_58 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_58 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_58 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_58 , FALSE); break;
			}
		}break;

	case 6:	//咯几昌
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_59 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_59, FALSE ); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_59 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_59 , FALSE); break;
			}
		}break;

	case 5:	//促几昌
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_60 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_60 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_60 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_60, FALSE ); break;
			}
		}break;

	case 4:	//匙昌
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_61 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_61 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_61, FALSE ); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_61 , FALSE); break;
			}
		}break;

	case 3:	//技昌
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_62 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_62 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_62 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_62 , FALSE); break;
			}
		}break;

	case 2:	//滴昌
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_63 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_63 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_63 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_63 , FALSE); break;
			}
		}break;

	case 1:	//茄昌
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_64, FALSE ); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_64, FALSE ); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_64 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_64 , FALSE); break;
			}
		}break;

	case 0:	//噶烹
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_65 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_65, FALSE ); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_65 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_65 , FALSE); break;
			}
		}break;

	case 10:	//荤备
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_66 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_66 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_66 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_66, FALSE ); break;
			}
		}break;

	case 11:	//港胖备府荤备
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_67 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_67 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_67 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_67 , FALSE); break;
			}
		}break;

	case 30:	//动棱捞
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_68 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_68 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_68 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_68 , FALSE); break;
			}
		}break;

	case 31:	//鞠青绢荤
		{
			switch(nVoiceType)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_69 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_69 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_69 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_69 , FALSE); break;
			}
		}break;
	}
}

void CSutdaGameSound::OnBetVoice(BOOL bSex, int nSndFxKind, RAISE_LAST_CMD eBetKind, BOOL bHiddenBet)
{
// 	if(m_nVoiceType==0) 
// 		return; //汲沥捞 绝澜捞搁 家府啊 唱瘤 臼绰促.

	int nsndkind = GetVoiceType(bSex, nSndFxKind);

	if (nsndkind<=0)
		nsndkind = 1;
// 	//格家府 烹老
// 	if( g_pMainDlg->CFG.bSingleVoice ) nsndkind = g_MyInfo.m_SelSound;

	//////////////////////////////////////////////////////////////
	//## 洒电硅泼 八荤 
//	BOOL ballinbet = FALSE;


// 	if( g_RI.Rule == 1 && m_CardNum == 2 ) ballinbet = TRUE;
// 	else if( (g_RI.Rule == 0 || m_bRematch) && m_CardNum == 1 ) ballinbet = TRUE;

	//洒电硅泼魄老版快 漂喊茄 澜己阑 霖促.
	if( bHiddenBet ) 
		nsndkind += 4;	
	//////////////////////////////////////////////////////////////		

	switch(eBetKind)	//硅泼俊 辆幅
	{
	case RAISE_LAST_CMD_FOLD:	//器扁 
		{
			switch(nsndkind)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_83 , FALSE); break;	//巢磊 1
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_83, FALSE ); break;	//巢磊2
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_83 , FALSE); break;	//咯磊1
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_83 , FALSE); break;	//咯磊2

			case 5:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_91 , FALSE); break;	//
			case 6:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_91 , FALSE); break;	//
			case 7:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_91 , FALSE); break;	//
			case 8:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_91 , FALSE); break;	//

			default : NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_83 , FALSE); break;	//扁夯(巢磊1)
			}
		}break;
	case RAISE_LAST_CMD_CHECK:	//眉农
		{
			switch(nsndkind)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_84 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_84, FALSE ); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_84 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_84 , FALSE); break;

			case 5:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_92, FALSE ); break;	//
			case 6:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_92 , FALSE); break;	//
			case 7:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_92 , FALSE); break;	//
			case 8:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_92 , FALSE); break;	//

			default : NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_84, FALSE ); break;
			}
		}break;
	case RAISE_LAST_CMD_CALL:	//妮
		{
			switch(nsndkind)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_85 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_85, FALSE ); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_85 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_85 , FALSE); break;

			case 5:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_93 , FALSE); break;	//
			case 6:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_93 , FALSE); break;	//
			case 7:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_93 , FALSE); break;	//
			case 8:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_93 , FALSE); break;	//

			default : NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_85 , FALSE); break;
			}
		}break;
	case RAISE_LAST_CMD_PING:	//绘 
		{
			switch(nsndkind)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_86 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_86, FALSE ); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_86 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_86 , FALSE); break;

			case 5:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_94, FALSE ); break;	//
			case 6:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_94 , FALSE); break;	//
			case 7:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_94 , FALSE); break;	//
			case 8:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_94 , FALSE); break;	//

			default : NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_86 , FALSE); break;
			}
		}break;
	case RAISE_LAST_CMD_DADANG:	//蝶寸
		{
			switch(nsndkind)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_87, FALSE ); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_87 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_87 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_87 , FALSE); break;

			case 5:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_95 , FALSE); break;	//
			case 6:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_95 , FALSE); break;	//
			case 7:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_95, FALSE ); break;	//
			case 8:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_95 , FALSE); break;	//

			default : NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_87 , FALSE); break;
			}
		}break;
	case RAISE_LAST_CMD_HALF:	//钱(窍橇,钙)
		{
			switch(nsndkind)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_88 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_88 , FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_88 , FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_88 , FALSE); break;

			case 5:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_96 , FALSE); break;	//
			case 6:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_96 , FALSE); break;	//
			case 7:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_96 , FALSE); break;	//
			case 8:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_96 , FALSE); break;	//

			default : NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_88 , FALSE);  break;
			}
		}break;
	case RAISE_LAST_CMD_ALLIN:	//棵牢硅泼矫
		{
			switch(nsndkind)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_99 , FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_99, FALSE ); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_99, FALSE ); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_99 , FALSE); break;

			case 5:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_99 , FALSE); break;	//
			case 6:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_99, FALSE); break;	//
			case 7:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_99 , FALSE); break;	//
			case 8:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_99, FALSE ); break;	//

			default : NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_99 , FALSE);  break;
			}
		}break;
	case RAISE_LAST_CMD_MAX_BET:	//钙胶硅泼矫
		{
			switch(nsndkind)
			{
			case 1:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_90, FALSE); break;
			case 2:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_90, FALSE); break;
			case 3:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_90, FALSE); break;
			case 4:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_90, FALSE); break;

			case 5:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_98, FALSE); break;
			case 6:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDM1_98, FALSE); break;
			case 7:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF0_98, FALSE); break;
			case 8:  NMBASE::SOUND::g_Sound.PlayOggStream( SNDF1_98, FALSE); break;

			default : NMBASE::SOUND::g_Sound.PlayOggStream( SNDM0_90 , FALSE);  break;
			}
		}break;
	}
}

//澜己阑 甸妨霖促.
void CSutdaGameSound::OnActionVoice( int r_kind, int r_snum, int r_randnum, int r_option  )
{
	//惑炔俊 蝶弗 荤款靛 矫累困摹甫 舅酒辰促. 
	int startidx = SoundIndex[r_kind];

	int playidx = 0;	//0: 绝澜 1,2 : 巢磊, 3,4:咯磊
	//罚待栏肺 唱棵版快
	if( r_randnum > 0) playidx = startidx + rand() % r_randnum;
	else playidx = startidx;

	//惑炔喊 可记捞 甸绢棵 版快
	if( r_option != -1 )
	{
		switch( r_kind )
		{
		case AV_WATCHSUBSCRIPT:
			{
				if( r_option > 4) r_option = 4;

				playidx = startidx + r_option;	//r_option捞 抗距 鉴困肺 甸绢柯促.
			}break;
		}
	}

// 	//格家府 烹老
// 	if( g_pMainDlg->CFG.bSingleVoice ) r_snum = g_MyInfo.m_SelSound;
	r_snum = m_nVoiceType;

	//荤款靛啊 肋给灯阑版快 磊脚栏 荤款靛肺 官层霖促.
	if( r_snum < 1 || r_snum > 4 ) 
		r_snum = 1;

	//版肺甫 舅酒柯促. 
	const char* filename = NULL;
	switch( r_snum )
	{
	case 1:  filename = pMan1[playidx]; break;		//巢磊1
	case 2:  filename = pMan2[playidx]; break;		//巢磊2
	case 3:  filename = pWoMan1[playidx]; break;	//咯磊1
	case 4:  filename = pWoMan2[playidx]; break;	//咯磊2
	}

	//殿废捞 救灯栏搁 殿废阑 茄促.
	if( NMBASE::SOUND::g_Sound.IsRegistered(filename) == FALSE )
		NMBASE::SOUND::g_Sound.RegistOggStream( filename, NMBASE::SOUND::SNDPRIORITY_MID, FALSE );

	//荤款靛甫 楷林茄促.
	NMBASE::SOUND::g_Sound.PlayOggStream( filename, FALSE );
}


//铰菩俊 蝶弗 澜己阑 甸妨霖促.
void CSutdaGameSound::OnResultVoice(BOOL bMyWin, BOOL bMyFold)
{

// #ifdef _DEBUG
// 	m_Bugmsg.Format("搬苞荤款靛 : %d, 铰磊 : %d", m_vWinandLossVoice , m_NowWinpnum);
// #endif

	//郴啊 捞板阑 版快 
	//if( m_NowWinpnum == 0 )
	if (bMyWin)
	{
		if( m_vWinandLossVoice == END_ROOMJACKPOT ) 
			OnActionVoice( AV_ROOMJACKPT_WIN, m_nVoiceType, 2 );
		else if( m_vWinandLossVoice == END_ALLIN ) 
			OnActionVoice( AV_OTHER_ALLIN, m_nVoiceType, 4 );
		else if( m_vWinandLossVoice == END_SORT ) 
			OnActionVoice( AV_SORT_WIN, m_nVoiceType, 2 );
		else if( m_vWinandLossVoice == END_DRAW ) 
			OnActionVoice( AV_DRAW_WIN, m_nVoiceType, 2 );
		else if( m_vWinandLossVoice == END_BIG ) 
			OnActionVoice( AV_BIG_WIN, m_nVoiceType, 4 );
		else if( m_vWinandLossVoice == END_SMALL ) 
			OnActionVoice( AV_SMALL_WIN, m_nVoiceType, 3 );
		else /*if( m_vWinandLossVoice == END_NORMAL )*/ 
			OnActionVoice( AV_NORMAL_WIN, m_nVoiceType, 3 );
	}
	//郴啊 脸阑版快
	else 
	{
		//棵牢老版快绰 器扁甫 沁绢档 澜己捞 唱柯促. 
		if( m_vWinandLossVoice == END_ALLIN )
			OnActionVoice( AV_MY_ALLIN, m_nVoiceType, 5 );
		//else //if( strlen(Play[0].UI.ID) > 0 && Play[0].JoinState == 1 && Play[0].LastState != GCMND_FOLD ) //$$$$$
		else if (bMyFold==FALSE)
		{
			if( m_vWinandLossVoice == END_SORT ) 
				OnActionVoice( AV_SORT_LOSS, m_nVoiceType, 2 );
			else if( m_vWinandLossVoice == END_DRAW ) 
				OnActionVoice( AV_DRAW_LOSS, m_nVoiceType, 3 );
			else /*if( m_vWinandLossVoice == END_NORMAL )*/
				OnActionVoice( AV_NORMAL_LOSS, m_nVoiceType, 4 );
		}

	
	}
}

void CSutdaGameSound::SetEndActionVoice(int r_order)
{	
	//快急鉴困啊 臭篮霸(角龙利栏沸 撤篮芭) 甸绢棵版快 官层霖促.
	if( m_vWinandLossVoice < r_order ) 
	{
		m_vWinandLossVoice = r_order;
	}

}

void CSutdaGameSound::OnResetGame()
{
	m_vWinandLossVoice = 0;
}
